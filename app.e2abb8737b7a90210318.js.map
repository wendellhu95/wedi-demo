{"version":3,"sources":["webpack:////home/wendellhu/Developer/OSS/wedi/esm/typings.js","webpack:////home/wendellhu/Developer/OSS/wedi/esm/collection.js","webpack:////home/wendellhu/Developer/OSS/wedi/esm/idle.js","webpack:////home/wendellhu/Developer/OSS/wedi/esm/utils.js","webpack:////home/wendellhu/Developer/OSS/wedi/esm/decorators.js","webpack:////home/wendellhu/Developer/OSS/wedi/esm/singleton.js","webpack:////home/wendellhu/Developer/OSS/wedi/esm/injector.js","webpack:////home/wendellhu/Developer/OSS/wedi/esm/context.js","webpack:////home/wendellhu/Developer/OSS/wedi/esm/react-decorators.js","webpack:////home/wendellhu/Developer/OSS/wedi/esm/hooks.js","webpack:////home/wendellhu/Developer/OSS/wedi/esm/rx.js","webpack:////home/wendellhu/Developer/OSS/wedi/esm/index.js","webpack:///./services/state.ts","webpack:///./services/todo.ts","webpack:///./services/router.ts","webpack:///./services/store/store.ts","webpack:///./main.tsx","webpack:///./App.tsx","webpack:///./App.css?f0e1","webpack:///./App.css","webpack:///./Footer.tsx","webpack:///./utils/pluralize.ts","webpack:///./TodoItem.tsx","webpack:///./services/store/store.web.ts"],"names":["isIdentifier","thing","$$identifier","InitPromise","ctor","lazyInstantiation","this","isClassItem","useClass","isValueItem","useValue","isFactoryItem","useFactory","isDisposable","dispose","runWhenIdle","DependencyCollection","deps","items","Map","disposed","_i","deps_1","length","dep","Array","depKey","depItem","add","prototype","key","ensureCollectionNotDisposed","set","has","get","forEach","item","Error","dependencyIds","getDependencies","setDependencies","id","index","optional","meta","push","getDependencyKeyName","toString","name","getDecoratorMisUsedError","targetName","identifierName","createIdentifier","console","warn","target","_key","arguments","Optional","identifier","Need","constructor","requestIdleCallback","cancelIdleCallback","runner","timeout","handle","undefined","clearTimeout","dummyIdle_1","Object","freeze","didTimeout","timeRemaining","setTimeout","IdleValue","executor","_this","didRun","value","err","error","disposeCallback","getValue","singletonDependencies","registerSingleton","findIndex","d","extendStatics","__spreadArrays","s","i","il","r","k","a","j","jl","recursionCounter","Injector","collection","parent","createChild","dependencies","__getDependencyOrIdentifierPair","getOrInit","createAndCacheInstance","invokeDependencyFactory","createInstance","extraParams","theCtor","sort","b","resolvedArgs","args","_a","dependencies_1","dependency","firstDependencyArgIndex","delta","fill","slice","bind","apply","__putDependencyBack","initPromise","assertRecursionNotTrappedInACircle","idle_1","doCreateInstance","Proxy","create","obj","prop","_target","factory","map","dp","call","__extends","setPrototypeOf","__proto__","p","hasOwnProperty","__","InjectionContext","injector","displayName","InjectionConsumer","Consumer","InjectionProvider","Provider","_super","renderChild","context","props","children","parentInjector","createElement","render","Provide","getChild","ProviderWrapper","$$collection","componentWillUnmount","Inject","propName","_originDescriptor","component","ensureInjectionContextExists","_value","useCollection","entries","collectionRef","current","useDependency","useDependencyValue","depValue","defaultValue","setValue","subscription","subscribe","val","unsubscribe","useUpdateBinder","update$","setCount","sub","prev","SHOWING","routerService","nowShowing","ALL_TODOS","updated$","Subject","router$","router","ACTIVE_TODOS","COMPLETED_TODOS","next","setEditing","editing","update","StateService","RouterService","uuid","random","Math","stateService","storeService","todos","store","filter","todo","completed","reduce","acc","activeTodoCount","inform","addTodo","title","concat","toggleAll","checked","toggle","todoToToggle","destroy","candidate","save","todoToSave","text","clearCompleted","TodoService","IStoreService","window","addEventListener","e","segment","newURL","split","LocalStoreService","document","getElementsByClassName","AppContainer","TodoMVC","todoService","inputRef","useRef","asObservable","todoItems","shownTodos","todoPart","todoCount","type","className","onChange","htmlFor","footerPart","ref","placeholder","onKeyDown","keyCode","preventDefault","autoFocus","hot","module","content","options","transform","locals","exports","pluralize","href","selected","completedCount","onClick","count","word","inputValue","setInputValue","handleSubmit","trim","onDoubleClick","focus","handleEdit","onBlur","handleKeydown","namespace","data","localStorage","setItem","JSON","stringify","getItem","parse"],"mappings":"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","file":"app.e2abb8737b7a90210318.js","sourcesContent":["export function isIdentifier(thing) {\n    return thing.$$identifier;\n}\n/**\n * @deprecated Use ClassItem instead.\n */\nvar InitPromise = /** @class */ (function () {\n    function InitPromise(ctor, lazyInstantiation) {\n        if (lazyInstantiation === void 0) { lazyInstantiation = false; }\n        this.ctor = ctor;\n        this.lazyInstantiation = lazyInstantiation;\n    }\n    return InitPromise;\n}());\nexport { InitPromise };\nexport function isClassItem(thing) {\n    return !!thing.useClass;\n}\nexport function isValueItem(thing) {\n    return !!thing.useValue;\n}\nexport function isFactoryItem(thing) {\n    return !!thing.useFactory;\n}\nexport function isDisposable(thing) {\n    return !!thing.dispose;\n}\n//# sourceMappingURL=typings.js.map","import { InitPromise, isDisposable } from './typings';\nvar DependencyCollection = /** @class */ (function () {\n    function DependencyCollection(deps) {\n        if (deps === void 0) { deps = []; }\n        this.items = new Map();\n        this.disposed = false;\n        for (var _i = 0, deps_1 = deps; _i < deps_1.length; _i++) {\n            var dep = deps_1[_i];\n            // IdentifierPair\n            if (dep instanceof Array) {\n                var depKey = dep[0], depItem = dep[1];\n                this.add(depKey, depItem);\n            }\n            else {\n                // The constructor itself.\n                this.add(dep, new InitPromise(dep));\n            }\n        }\n    }\n    /* Register a dependency with an identifier. */\n    DependencyCollection.prototype.add = function (key, depItem) {\n        this.ensureCollectionNotDisposed();\n        this.items.set(key, depItem);\n    };\n    DependencyCollection.prototype.has = function (key) {\n        this.ensureCollectionNotDisposed();\n        return this.items.has(key);\n    };\n    DependencyCollection.prototype.get = function (key) {\n        this.ensureCollectionNotDisposed();\n        return this.items.get(key);\n    };\n    /**\n     * If this collection get disposed\n     */\n    DependencyCollection.prototype.dispose = function () {\n        this.disposed = true;\n        this.items.forEach(function (item) {\n            if (isDisposable(item)) {\n                item.dispose();\n            }\n        });\n    };\n    DependencyCollection.prototype.ensureCollectionNotDisposed = function () {\n        if (this.disposed) {\n            throw new Error(\"[WeDI] Dependency collection is not accessible after it disposes!\");\n        }\n    };\n    return DependencyCollection;\n}());\nexport { DependencyCollection };\n//# sourceMappingURL=collection.js.map","/**\n * This run the callback when CPU is idle. Will fallback to setTimeout if\n * the browser doesn't support requestIdleCallback.\n */\nexport var runWhenIdle;\n// Use an IIFE to set up runWhenIdle\n(function () {\n    if (typeof requestIdleCallback !== 'undefined' &&\n        typeof cancelIdleCallback !== 'undefined') {\n        // Use native requestIdleCallback.\n        runWhenIdle = function (runner, timeout) {\n            var handle = requestIdleCallback(runner, typeof timeout === 'number' ? { timeout: timeout } : undefined);\n            var disposed = false;\n            return function () {\n                if (disposed) {\n                    return;\n                }\n                disposed = true;\n                clearTimeout(handle);\n            };\n        };\n    }\n    else {\n        // Use setTimeout as hack.\n        var dummyIdle_1 = Object.freeze({\n            didTimeout: true,\n            timeRemaining: function () {\n                return 15;\n            }\n        });\n        runWhenIdle = function (runner) {\n            var handle = setTimeout(function () { return runner(dummyIdle_1); });\n            var disposed = false;\n            return function () {\n                if (disposed) {\n                    return;\n                }\n                disposed = true;\n                clearTimeout(handle);\n            };\n        };\n    }\n})();\n/**x\n * A wrapper of a executor so it can be evaluated when it's necessary or the CPU is idle.\n *\n * The type of the returned value of the executor would be T.\n */\nvar IdleValue = /** @class */ (function () {\n    function IdleValue(executor) {\n        var _this = this;\n        this.didRun = false;\n        this.executor = function () {\n            try {\n                _this.value = executor();\n            }\n            catch (err) {\n                _this.error = err;\n            }\n            finally {\n                _this.didRun = true;\n            }\n        };\n        this.disposeCallback = runWhenIdle(function () { return _this.executor(); });\n    }\n    IdleValue.prototype.dispose = function () {\n        this.disposeCallback();\n    };\n    IdleValue.prototype.getValue = function () {\n        if (!this.didRun) {\n            this.dispose();\n            this.executor();\n        }\n        if (this.error) {\n            throw this.error;\n        }\n        return this.value;\n    };\n    return IdleValue;\n}());\nexport { IdleValue };\n//# sourceMappingURL=idle.js.map","import { isIdentifier } from './typings';\nexport var dependencyIds = new Map();\nexport var DEPENDENCIES = '$$WEDI_DEPENDENCIES';\nexport var TARGET = '$$WEDI_TARGET';\nexport function getDependencies(ctor) {\n    return ctor[DEPENDENCIES] || [];\n}\nexport function setDependencies(ctor, id, index, optional) {\n    var meta = { id: id, index: index, optional: optional };\n    // Cope with dependency that is inherited from another.\n    if (ctor[TARGET] === ctor) {\n        ctor[DEPENDENCIES].push(meta);\n    }\n    else {\n        ctor[DEPENDENCIES] = [meta];\n        ctor[TARGET] = ctor;\n    }\n}\nexport function getDependencyKeyName(key) {\n    return isIdentifier(key) ? key.toString() : key.name;\n}\n//# sourceMappingURL=utils.js.map","import * as DIUtils from './utils';\nfunction getDecoratorMisUsedError(targetName, identifierName) {\n    return new Error('[WeDI] dependency identifier can only be decorated on a constructor parameter. ' +\n        (\"Check \" + identifierName + \" decorated on \" + targetName + \".\"));\n}\nexport function createIdentifier(name) {\n    if (DIUtils.dependencyIds.has(name)) {\n        console.warn(\"[DI] duplicated identifier name \" + name + \".\");\n        return DIUtils.dependencyIds.get(name);\n    }\n    var id = function (target, _key, index) {\n        if (arguments.length !== 3) {\n            throw getDecoratorMisUsedError(target.name, name);\n        }\n        DIUtils.setDependencies(target, id, index, false);\n    };\n    id.toString = function () { return name; };\n    id.$$identifier = true;\n    DIUtils.dependencyIds.set(name, id);\n    return id;\n}\n/**\n * Wrap a Identifier with this function to make it optional.\n */\nexport function Optional(identifier) {\n    return function (target, _key, index) {\n        if (arguments.length !== 3) {\n            throw getDecoratorMisUsedError(target.name, identifier.toString());\n        }\n        DIUtils.setDependencies(target, identifier, index, true);\n    };\n}\n/**\n * Used inside constructor for services to claim dependencies.\n */\nexport function Need(key) {\n    return function (target, _key, index) {\n        if (arguments.length !== 3) {\n            throw getDecoratorMisUsedError(target.name, key.constructor.name);\n        }\n        DIUtils.setDependencies(target, key, index, false);\n    };\n}\n//# sourceMappingURL=decorators.js.map","var singletonDependencies = [];\nexport function registerSingleton(id, ctor, lazyInstantiation) {\n    if (lazyInstantiation === void 0) { lazyInstantiation = false; }\n    var index = singletonDependencies.findIndex(function (d) { return d[0].toString() === id.toString() || d[0] === id; });\n    if (index !== -1) {\n        singletonDependencies[index] = [id, { useClass: ctor, lazyInstantiation: lazyInstantiation }];\n        console.warn(\"[WeDI] Duplicated registration of \" + id.toString() + \".\");\n    }\n    else {\n        singletonDependencies.push([id, { useClass: ctor, lazyInstantiation: lazyInstantiation }]);\n    }\n}\n/**\n * For top-layer injectors to fetch all singleton dependencies.\n */\nexport function getSingletonDependencies() {\n    return singletonDependencies;\n}\n//# sourceMappingURL=singleton.js.map","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { DependencyCollection } from './collection';\nimport { IdleValue } from './idle';\nimport { getSingletonDependencies } from './singleton';\nimport { InitPromise, isClassItem, isFactoryItem, isValueItem } from './typings';\nimport { getDependencies, getDependencyKeyName } from './utils';\nvar recursionCounter = 0;\nvar Injector = /** @class */ (function () {\n    function Injector(collection, parent) {\n        // If there's no parent injector, should get singleton dependencies.\n        if (!parent) {\n            var newDependencies = getSingletonDependencies();\n            newDependencies.forEach(function (d) {\n                if (!collection.has(d[0])) {\n                    collection.add(d[0], d[1]);\n                }\n            });\n        }\n        this.collection = collection;\n        this.parent = parent;\n    }\n    Injector.prototype.dispose = function () {\n        this.collection.dispose();\n    };\n    /**\n     * Create a child Initializer to build layered injection system.\n     */\n    Injector.prototype.createChild = function (dependencies) {\n        if (dependencies === void 0) { dependencies = new DependencyCollection(); }\n        return new Injector(dependencies, this);\n    };\n    /**\n     * Get a dependency.\n     */\n    Injector.prototype.get = function (id) {\n        var thing = this.__getDependencyOrIdentifierPair(id);\n        if (typeof thing === 'undefined') {\n            // Not provided.\n            return null;\n        }\n        else if (thing instanceof InitPromise || isFactoryItem(thing)) {\n            // Not initialized yet.\n            return null;\n        }\n        else {\n            return this.getOrInit(id);\n        }\n    };\n    /**\n     * Get a dependency or create one in the current injector.\n     */\n    Injector.prototype.getOrInit = function (id) {\n        var thing = this.__getDependencyOrIdentifierPair(id);\n        if (typeof thing === 'undefined') {\n            return null;\n        }\n        else if (thing instanceof InitPromise) {\n            return this.createAndCacheInstance(id, thing);\n        }\n        else if (isValueItem(thing)) {\n            return thing.useValue;\n        }\n        else if (isFactoryItem(thing)) {\n            return this.invokeDependencyFactory(id, thing);\n        }\n        else if (isClassItem(thing)) {\n            return this.createAndCacheInstance(id, new InitPromise(thing.useClass, !!thing.lazyInstantiation));\n        }\n        else {\n            return thing;\n        }\n    };\n    /**\n     * Initialize a class in the scope of the injector.\n     * @param ctor The class to be initialized.\n     */\n    Injector.prototype.createInstance = function (ctor) {\n        var extraParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            extraParams[_i - 1] = arguments[_i];\n        }\n        var theCtor = ctor instanceof InitPromise ? ctor.ctor : ctor;\n        var dependencies = getDependencies(theCtor).sort(function (a, b) { return a.index - b.index; });\n        var resolvedArgs = [];\n        var args = __spreadArrays(extraParams);\n        for (var _a = 0, dependencies_1 = dependencies; _a < dependencies_1.length; _a++) {\n            var dependency = dependencies_1[_a];\n            var thing = this.getOrInit(dependency.id);\n            if (thing === null && !dependency.optional) {\n                throw new Error(\"[WeDI] \\\"\" + theCtor.name + \"\\\" relies on a not provided dependency \\\"\" + getDependencyKeyName(dependency.id) + \"\\\".\");\n            }\n            resolvedArgs.push(thing);\n        }\n        var firstDependencyArgIndex = dependencies.length > 0 ? dependencies[0].index : args.length;\n        if (args.length !== firstDependencyArgIndex) {\n            console.warn(\"[DI] expected \" + firstDependencyArgIndex + \" non-injected parameters \" +\n                (\"but \" + args.length + \" parameters are provided.\"));\n            var delta = firstDependencyArgIndex - args.length;\n            if (delta > 0) {\n                args = __spreadArrays(args, new Array(delta).fill(undefined));\n            }\n            else {\n                args = args.slice(0, firstDependencyArgIndex);\n            }\n        }\n        return new (theCtor.bind.apply(theCtor, __spreadArrays([void 0], args, resolvedArgs)))();\n    };\n    Injector.prototype.__getDependencyOrIdentifierPair = function (id) {\n        return (this.collection.get(id) ||\n            (this.parent\n                ? this.parent.__getDependencyOrIdentifierPair(id)\n                : undefined));\n    };\n    Injector.prototype.__putDependencyBack = function (key, value) {\n        if (this.collection.get(key)) {\n            this.collection.add(key, value);\n        }\n        else if (this.parent) {\n            this.parent.__putDependencyBack(key, value);\n        }\n        else {\n            throw new Error(\"[WeDI] cannot find a place to to the new created \" + getDependencyKeyName(key) + \".\");\n        }\n    };\n    Injector.prototype.createAndCacheInstance = function (key, initPromise) {\n        var _this = this;\n        recursionCounter += 1;\n        this.assertRecursionNotTrappedInACircle(key);\n        var ctor = initPromise.ctor;\n        var thing;\n        if (initPromise.lazyInstantiation) {\n            var idle_1 = new IdleValue(function () { return _this.doCreateInstance(key, ctor); });\n            thing = new Proxy(Object.create(null), {\n                get: function (target, key) {\n                    if (key in target) {\n                        return target[key];\n                    }\n                    var obj = idle_1.getValue();\n                    var prop = obj[key];\n                    if (typeof prop !== 'function') {\n                        return prop;\n                    }\n                    prop = prop.bind(obj);\n                    target[key] = prop;\n                    return prop;\n                },\n                set: function (_target, key, value) {\n                    idle_1.getValue()[key] = value;\n                    return true;\n                }\n            });\n        }\n        else {\n            thing = this.doCreateInstance(key, ctor);\n        }\n        recursionCounter -= 1;\n        return thing;\n    };\n    Injector.prototype.doCreateInstance = function (id, ctor) {\n        var thing = this.createInstance(ctor);\n        this.__putDependencyBack(id, thing);\n        return thing;\n    };\n    Injector.prototype.assertRecursionNotTrappedInACircle = function (id) {\n        if (recursionCounter > 10) {\n            recursionCounter = 0; // Reset the value here. Otherwise test would fail.\n            throw new Error('[WeDI] \"_createInstance\" exceeds the limitation of recursion. There might be a circular dependency.\"');\n        }\n    };\n    Injector.prototype.invokeDependencyFactory = function (id, factory) {\n        var _this = this;\n        var _a;\n        var dependencies = ((_a = factory.deps) === null || _a === void 0 ? void 0 : _a.map(function (dp) { return _this.getOrInit(dp); })) || [];\n        var thing = factory.useFactory.call(null, dependencies);\n        this.collection.add(id, thing);\n        return thing;\n    };\n    return Injector;\n}());\nexport { Injector };\n//# sourceMappingURL=injector.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport React, { Component, createContext } from 'react';\nimport { Injector } from './injector';\nexport var InjectionContext = createContext({\n    injector: null\n});\nInjectionContext.displayName = 'InjectionContext';\nvar InjectionConsumer = InjectionContext.Consumer;\nvar InjectionProvider = InjectionContext.Provider;\n/**\n * The React binding of WeDI. It uses the React context API to specify\n * injection positions and layered injector tree.\n *\n * ```tsx\n * <Provider collection={}>\n *   { children }\n * </Provider>\n * ```\n */\nvar Provider = /** @class */ (function (_super) {\n    __extends(Provider, _super);\n    function Provider() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Provider.prototype.renderChild = function (context) {\n        var _a = this.props, collection = _a.collection, children = _a.children;\n        var parentInjector = context.injector;\n        var injector = parentInjector\n            ? parentInjector.createChild(collection)\n            : new Injector(collection);\n        return (React.createElement(InjectionProvider, { value: { injector: injector } }, children));\n    };\n    Provider.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(InjectionConsumer, null, function (context) { return _this.renderChild(context); }));\n    };\n    return Provider;\n}(Component));\nexport { Provider };\n//# sourceMappingURL=context.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport React, { Component, createElement } from 'react';\nimport { DependencyCollection } from './collection';\nimport { Provider } from './context';\nimport { getDependencyKeyName } from './utils';\n/**\n * An decorator that could be used on a React class component. To provide a\n * injection context on that component.\n */\nexport function Provide(items) {\n    return function (target) {\n        function getChild() {\n            return createElement(target, this.props);\n        }\n        var ProviderWrapper = /** @class */ (function (_super) {\n            __extends(ProviderWrapper, _super);\n            function ProviderWrapper(props, context) {\n                var _this = _super.call(this, props, context) || this;\n                _this.$$collection = new DependencyCollection(items);\n                return _this;\n            }\n            ProviderWrapper.prototype.componentWillUnmount = function () {\n                var _a;\n                (_a = this.$$collection) === null || _a === void 0 ? void 0 : _a.dispose();\n            };\n            ProviderWrapper.prototype.render = function () {\n                return (React.createElement(Provider, { collection: this.$$collection }, getChild.call(this)));\n            };\n            return ProviderWrapper;\n        }(Component));\n        ProviderWrapper.displayName = \"ProviderWrapper.\" + target.name;\n        return ProviderWrapper;\n    };\n}\n/**\n * Returns decorator that could be used on a property of\n * a React class component to inject a dependency.\n */\nexport function Inject(id, optional) {\n    if (optional === void 0) { optional = false; }\n    return function (target, propName, _originDescriptor) {\n        var descriptor = {\n            // When user is trying to get the service, get it from the injector in\n            // the current context.\n            get: function () {\n                // tslint:disable-next-line:no-invalid-this\n                var thisAsComponent = this;\n                ensureInjectionContextExists(thisAsComponent);\n                var injector = thisAsComponent.context.injector;\n                var thing = injector && injector.getOrInit(id);\n                if (!optional && !thing) {\n                    throw Error(\"[WeDI] Cannot get an instance of \\\"\" + getDependencyKeyName(id) + \"\\\".\");\n                }\n                return thing || null;\n            },\n            set: function (_value) {\n                throw Error(\"[WeDI] You can never set value to a dependency. Check \\\"\" + propName + \"\\\" of \\\"\" + getDependencyKeyName(id) + \"\\\".\");\n            }\n        };\n        return descriptor;\n    };\n}\nfunction ensureInjectionContextExists(component) {\n    if (!component.context || !component.context.injector) {\n        throw Error(\"You should make \\\"InjectorContext\\\" as \" + component.constructor.name + \"'s default context type. \" +\n            'If you want to use multiple context, please check this page on React documentation. ' +\n            'https://github.com/ant-design/ant-design');\n    }\n}\n//# sourceMappingURL=react-decorators.js.map","import { useContext, useEffect, useRef } from 'react';\nimport { DependencyCollection } from './collection';\nimport { InjectionContext } from './context';\n/**\n * When providing dependencies in a functional component, it would be expensive\n * (not to mention logic incorrectness)\n */\nexport function useCollection(entries) {\n    var collectionRef = useRef(new DependencyCollection(entries));\n    useEffect(function () { return function () { var _a; return (_a = collectionRef.current) === null || _a === void 0 ? void 0 : _a.dispose(); }; }, []);\n    return collectionRef.current;\n}\n/**\n * This function support using dependency injection in a function component\n * with the help of React Hooks.\n */\nexport function useDependency(id) {\n    var injector = useContext(InjectionContext).injector;\n    var thing = injector && injector.getOrInit(id);\n    return thing || null;\n}\n//# sourceMappingURL=hooks.js.map","/**\n * This file contains some exploration of reactive programming and\n * dependency injection in React.\n */\nimport { useEffect, useState } from 'react';\n/**\n * Unwrap an observable value, return it to the component for rendering, and\n * trigger re-render when value changes.\n */\nexport function useDependencyValue(depValue, defaultValue) {\n    var _a = useState(defaultValue || null), value = _a[0], setValue = _a[1];\n    useEffect(function () {\n        var subscription = depValue.subscribe(function (val) { return setValue(val); });\n        return function () { return subscription.unsubscribe(); };\n    }, []);\n    return value;\n}\nexport function useUpdateBinder(update$) {\n    var _a = useState(0), setCount = _a[1];\n    useEffect(function () {\n        var sub = update$.subscribe(function () { return setCount(function (prev) { return prev + 1; }); });\n        return function () { return sub.unsubscribe(); };\n    }, []);\n}\n//# sourceMappingURL=rx.js.map","export { DependencyCollection } from './collection';\nexport { createIdentifier, Need, Optional } from './decorators';\nexport { Injector } from './injector';\nexport { registerSingleton } from './singleton';\nexport * from './typings';\nexport { Provide, Inject } from './react-decorators';\nexport { InjectionContext, Provider } from './context';\nexport { useCollection, useDependency } from './hooks';\nexport { useDependencyValue, useUpdateBinder } from './rx';\n//# sourceMappingURL=index.js.map","import { Subject } from 'rxjs';\nimport { Need } from 'wedi';\n\nimport { RouterService } from './router';\n\nexport enum SHOWING {\n  ALL_TODOS,\n  ACTIVE_TODOS,\n  COMPLETED_TODOS\n}\n\nexport class StateService {\n  nowShowing: SHOWING = SHOWING.ALL_TODOS;\n  editing?: string;\n  updated$ = new Subject<void>();\n\n  constructor(@Need(RouterService) private routerService: RouterService) {\n    this.routerService.router$.subscribe((router) => {\n      this.nowShowing =\n        router === '/active'\n          ? SHOWING.ACTIVE_TODOS\n          : router === '/completed'\n          ? SHOWING.COMPLETED_TODOS\n          : SHOWING.ALL_TODOS;\n      this.updated$.next();\n    });\n  }\n\n  setEditing(id: string): void {\n    this.editing = id;\n    this.update();\n  }\n\n  private update(): void {\n    this.updated$.next();\n  }\n}\n","import { Subject } from 'rxjs';\nimport { Need } from 'wedi';\n\nimport { SHOWING, StateService } from './state';\nimport { IStoreService } from './store/store';\n\nfunction uuid(): string {\n  /*jshint bitwise:false */\n  let i;\n  let random;\n  let id = '';\n\n  for (i = 0; i < 32; i++) {\n    random = (Math.random() * 16) | 0;\n    if (i === 8 || i === 12 || i === 16 || i === 20) {\n      id += '-';\n    }\n    id += (i === 12 ? 4 : i === 16 ? (random & 3) | 8 : random).toString(16);\n  }\n\n  return id;\n}\n\nexport interface ITodo {\n  id: string;\n  title: string;\n  completed: boolean;\n}\n\n/**\n * Storing all todo items, and provide methods to manipulate them.\n */\nexport class TodoService {\n  todos: ITodo[];\n  updated$ = new Subject<void>();\n\n  get shownTodos(): ITodo[] {\n    return this.todos.filter((todo) => {\n      switch (this.stateService.nowShowing) {\n        case SHOWING.ACTIVE_TODOS:\n          return !todo.completed;\n        case SHOWING.COMPLETED_TODOS:\n          return todo.completed;\n        default:\n          return true;\n      }\n    });\n  }\n\n  get todoCount(): number {\n    return this.todos.length;\n  }\n\n  get activeTodoCount(): number {\n    return this.todos.reduce(\n      (acc, todo) => (todo.completed ? acc : acc + 1),\n      0\n    );\n  }\n\n  get completedCount(): number {\n    return this.todos.length - this.activeTodoCount;\n  }\n\n  constructor(\n    @Need(StateService) private stateService: StateService,\n    @IStoreService private storeService: IStoreService\n  ) {\n    this.todos = this.storeService.store('TODO');\n  }\n\n  inform() {\n    this.storeService.store('TODO', this.todos);\n    this.updated$.next();\n  }\n\n  addTodo(title: string): void {\n    this.todos = this.todos.concat({\n      id: uuid(),\n      title: title,\n      completed: false\n    });\n\n    this.inform();\n  }\n\n  toggleAll(checked: boolean): void {\n    this.todos = this.todos.map<ITodo>((todo: ITodo) => ({\n      ...todo,\n      completed: checked\n    }));\n\n    this.inform();\n  }\n\n  toggle(todoToToggle: ITodo) {\n    this.todos = this.todos.map<ITodo>((todo: ITodo) => {\n      return todo !== todoToToggle\n        ? todo\n        : { ...todo, completed: !todo.completed };\n    });\n\n    this.inform();\n  }\n\n  destroy(todo: ITodo) {\n    this.todos = this.todos.filter((candidate) => candidate !== todo);\n\n    this.inform();\n  }\n\n  save(todoToSave: ITodo, text: string) {\n    this.todos = this.todos.map((todo) =>\n      todo !== todoToSave ? todo : { ...todo, title: text }\n    );\n\n    this.inform();\n  }\n\n  clearCompleted() {\n    this.todos = this.todos.filter((todo) => !todo.completed);\n\n    this.inform();\n  }\n}\n","import { Subject } from 'rxjs';\n\nexport class RouterService {\n  router$ = new Subject<string>();\n\n  constructor() {\n    window.addEventListener('hashchange', (e) => {\n      const url = e.newURL;\n      const segment = url.split('#')[1] || '/';\n\n      this.router$.next(segment);\n    });\n  }\n}\n","import { createIdentifier } from 'wedi';\n\nexport interface IStoreService {\n  store(namespace: string): any;\n  store(namespace: string, data: any): void;\n}\n\nexport const IStoreService = createIdentifier<IStoreService>('store');\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { registerSingleton } from 'wedi';\n\nimport App from './App';\n\nimport { IStoreService } from './services/store/store';\nimport { LocalStoreService } from './services/store/store.web';\n\nregisterSingleton(IStoreService, LocalStoreService);\n\nReactDOM.render(<App />, document.getElementsByClassName('todoapp')[0]);\n","import React, { KeyboardEvent, useRef } from 'react';\nimport { hot } from 'react-hot-loader';\nimport { Provider, useCollection, useDependency, useUpdateBinder } from 'wedi';\n\nimport './App.css';\n\nimport Footer from './Footer';\nimport { RouterService } from './services/router';\nimport { StateService } from './services/state';\nimport { TodoService } from './services/todo';\nimport TodoItem from './TodoItem';\n\nfunction AppContainer() {\n  const collection = useCollection([TodoService, StateService, RouterService]);\n\n  return (\n    <Provider collection={collection}>\n      <TodoMVC></TodoMVC>\n    </Provider>\n  );\n}\n\nfunction TodoMVC() {\n  const stateService = useDependency(StateService)!;\n  const todoService = useDependency(TodoService)!;\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useUpdateBinder(stateService.updated$.asObservable());\n  useUpdateBinder(todoService.updated$.asObservable());\n\n  function handleKeydown(e: KeyboardEvent): void {\n    if (e.keyCode !== 13) {\n      return;\n    }\n\n    e.preventDefault();\n\n    const val = inputRef.current?.value;\n\n    if (val) {\n      todoService.addTodo(val);\n      inputRef.current!.value = '';\n    }\n  }\n\n  const todoItems = todoService.shownTodos.map((todo) => {\n    return <TodoItem key={todo.id} todo={todo}></TodoItem>;\n  });\n\n  const todoPart = todoService.todoCount ? (\n    <section>\n      <input\n        type=\"checkbox\"\n        id=\"toggle-all\"\n        className=\"toggle-all\"\n        onChange={(e) => todoService.toggleAll(e.target.checked)}\n        checked={todoService.activeTodoCount === 0}\n      />\n      <label htmlFor=\"toggle-all\">Mark all as completed</label>\n      <ul className=\"todo-list\">{todoItems}</ul>\n    </section>\n  ) : null;\n\n  const footerPart = todoService.todoCount ? <Footer></Footer> : null;\n\n  return (\n    <div>\n      <header className=\"header\">\n        <h1>todos</h1>\n        <input\n          type=\"text\"\n          ref={inputRef}\n          className=\"new-todo\"\n          placeholder=\"What needs to be done?\"\n          onKeyDown={handleKeydown}\n          autoFocus={true}\n        />\n      </header>\n      {todoPart}\n      {footerPart}\n    </div>\n  );\n}\n\nexport default hot(module)(() => <AppContainer />);\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!./App.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!./App.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!./App.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"html,\\nbody {\\n  margin: 0;\\n  padding: 0;\\n}\\n\\nbutton {\\n  margin: 0;\\n  padding: 0;\\n  border: 0;\\n  background: none;\\n  font-size: 100%;\\n  vertical-align: baseline;\\n  font-family: inherit;\\n  font-weight: inherit;\\n  color: inherit;\\n  -webkit-appearance: none;\\n  appearance: none;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\nbody {\\n  font: 14px 'Helvetica Neue', Helvetica, Arial, sans-serif;\\n  line-height: 1.4em;\\n  background: #f5f5f5;\\n  color: #4d4d4d;\\n  min-width: 230px;\\n  max-width: 550px;\\n  margin: 0 auto;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  font-weight: 300;\\n}\\n\\n:focus {\\n  outline: 0;\\n}\\n\\n.hidden {\\n  display: none;\\n}\\n\\n.todoapp {\\n  background: #fff;\\n  margin: 130px 0 40px 0;\\n  position: relative;\\n  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 25px 50px 0 rgba(0, 0, 0, 0.1);\\n}\\n\\n.todoapp input::-webkit-input-placeholder {\\n  font-style: italic;\\n  font-weight: 300;\\n  color: #e6e6e6;\\n}\\n\\n.todoapp input::-moz-placeholder {\\n  font-style: italic;\\n  font-weight: 300;\\n  color: #e6e6e6;\\n}\\n\\n.todoapp input::input-placeholder {\\n  font-style: italic;\\n  font-weight: 300;\\n  color: #e6e6e6;\\n}\\n\\n.todoapp h1 {\\n  position: absolute;\\n  top: -155px;\\n  width: 100%;\\n  font-size: 100px;\\n  font-weight: 100;\\n  text-align: center;\\n  color: rgba(175, 47, 47, 0.15);\\n  -webkit-text-rendering: optimizeLegibility;\\n  -moz-text-rendering: optimizeLegibility;\\n  text-rendering: optimizeLegibility;\\n}\\n\\n.new-todo,\\n.edit {\\n  position: relative;\\n  margin: 0;\\n  width: 100%;\\n  font-size: 24px;\\n  font-family: inherit;\\n  font-weight: inherit;\\n  line-height: 1.4em;\\n  border: 0;\\n  color: inherit;\\n  padding: 6px;\\n  border: 1px solid #999;\\n  box-shadow: inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);\\n  box-sizing: border-box;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.new-todo {\\n  padding: 16px 16px 16px 60px;\\n  border: none;\\n  background: rgba(0, 0, 0, 0.003);\\n  box-shadow: inset 0 -2px 1px rgba(0, 0, 0, 0.03);\\n}\\n\\n.main {\\n  position: relative;\\n  z-index: 2;\\n  border-top: 1px solid #e6e6e6;\\n}\\n\\n.toggle-all {\\n  text-align: center;\\n  border: none; /* Mobile Safari */\\n  opacity: 0;\\n  position: absolute;\\n}\\n\\n.toggle-all + label {\\n  width: 60px;\\n  height: 34px;\\n  font-size: 0;\\n  position: absolute;\\n  top: 14px;\\n  left: -13px;\\n  -webkit-transform: rotate(90deg);\\n  transform: rotate(90deg);\\n}\\n\\n.toggle-all + label:before {\\n  content: '';\\n  font-size: 22px;\\n  color: #e6e6e6;\\n  padding: 10px 27px 10px 27px;\\n}\\n\\n.toggle-all:checked + label:before {\\n  color: #737373;\\n}\\n\\n.todo-list {\\n  margin: 0;\\n  padding: 0;\\n  list-style: none;\\n}\\n\\n.todo-list li {\\n  position: relative;\\n  font-size: 24px;\\n  border-bottom: 1px solid #ededed;\\n}\\n\\n.todo-list li:last-child {\\n  border-bottom: none;\\n}\\n\\n.todo-list li.editing {\\n  border-bottom: none;\\n  padding: 0;\\n}\\n\\n.todo-list li.editing .edit {\\n  display: block;\\n  width: 506px;\\n  padding: 12px 16px;\\n  margin: 0 0 0 43px;\\n}\\n\\n.todo-list li.editing .view {\\n  display: none;\\n}\\n\\n.todo-list li .toggle {\\n  text-align: center;\\n  width: 40px;\\n  /* auto, since non-WebKit browsers doesn't support input styling */\\n  height: auto;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  margin: auto 0;\\n  border: none; /* Mobile Safari */\\n  -webkit-appearance: none;\\n  appearance: none;\\n}\\n\\n.todo-list li .toggle {\\n  opacity: 0;\\n}\\n\\n.todo-list li .toggle + label {\\n  /*\\n\\t\\tFirefox requires `#` to be escaped - https://bugzilla.mozilla.org/show_bug.cgi?id=922433\\n\\t\\tIE and Edge requires *everything* to be escaped to render, so we do that instead of just the `#` - https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/7157459/\\n\\t*/\\n  background-image: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23ededed%22%20stroke-width%3D%223%22/%3E%3C/svg%3E');\\n  background-repeat: no-repeat;\\n  background-position: center left;\\n}\\n\\n.todo-list li .toggle:checked + label {\\n  background-image: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23bddad5%22%20stroke-width%3D%223%22/%3E%3Cpath%20fill%3D%22%235dc2af%22%20d%3D%22M72%2025L42%2071%2027%2056l-4%204%2020%2020%2034-52z%22/%3E%3C/svg%3E');\\n}\\n\\n.todo-list li label {\\n  word-break: break-all;\\n  padding: 15px 15px 15px 60px;\\n  display: block;\\n  line-height: 1.2;\\n  transition: color 0.4s;\\n}\\n\\n.todo-list li.completed label {\\n  color: #d9d9d9;\\n  text-decoration: line-through;\\n}\\n\\n.todo-list li .destroy {\\n  display: none;\\n  position: absolute;\\n  top: 0;\\n  right: 10px;\\n  bottom: 0;\\n  width: 40px;\\n  height: 40px;\\n  margin: auto 0;\\n  font-size: 30px;\\n  color: #cc9a9a;\\n  margin-bottom: 11px;\\n  transition: color 0.2s ease-out;\\n}\\n\\n.todo-list li .destroy:hover {\\n  color: #af5b5e;\\n}\\n\\n.todo-list li .destroy:after {\\n  content: '';\\n}\\n\\n.todo-list li:hover .destroy {\\n  display: block;\\n}\\n\\n.todo-list li .edit {\\n  display: none;\\n}\\n\\n.todo-list li.editing:last-child {\\n  margin-bottom: -1px;\\n}\\n\\n.footer {\\n  color: #777;\\n  padding: 10px 15px;\\n  height: 20px;\\n  text-align: center;\\n  border-top: 1px solid #e6e6e6;\\n}\\n\\n.footer:before {\\n  content: '';\\n  position: absolute;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  height: 50px;\\n  overflow: hidden;\\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2), 0 8px 0 -3px #f6f6f6,\\n    0 9px 1px -3px rgba(0, 0, 0, 0.2), 0 16px 0 -6px #f6f6f6,\\n    0 17px 2px -6px rgba(0, 0, 0, 0.2);\\n}\\n\\n.todo-count {\\n  float: left;\\n  text-align: left;\\n}\\n\\n.todo-count strong {\\n  font-weight: 300;\\n}\\n\\n.filters {\\n  margin: 0;\\n  padding: 0;\\n  list-style: none;\\n  position: absolute;\\n  right: 0;\\n  left: 0;\\n}\\n\\n.filters li {\\n  display: inline;\\n}\\n\\n.filters li a {\\n  color: inherit;\\n  margin: 3px;\\n  padding: 3px 7px;\\n  text-decoration: none;\\n  border: 1px solid transparent;\\n  border-radius: 3px;\\n}\\n\\n.filters li a:hover {\\n  border-color: rgba(175, 47, 47, 0.1);\\n}\\n\\n.filters li a.selected {\\n  border-color: rgba(175, 47, 47, 0.2);\\n}\\n\\n.clear-completed,\\nhtml .clear-completed:active {\\n  float: right;\\n  position: relative;\\n  line-height: 20px;\\n  text-decoration: none;\\n  cursor: pointer;\\n}\\n\\n.clear-completed:hover {\\n  text-decoration: underline;\\n}\\n\\n.info {\\n  margin: 65px auto 0;\\n  color: #bfbfbf;\\n  font-size: 10px;\\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);\\n  text-align: center;\\n}\\n\\n.info p {\\n  line-height: 1;\\n}\\n\\n.info a {\\n  color: inherit;\\n  text-decoration: none;\\n  font-weight: 400;\\n}\\n\\n.info a:hover {\\n  text-decoration: underline;\\n}\\n\\n/*\\n\\tHack to remove background from Mobile Safari.\\n\\tCan't use it globally since it destroys checkboxes in Firefox\\n*/\\n@media screen and (-webkit-min-device-pixel-ratio: 0) {\\n  .toggle-all,\\n  .todo-list li .toggle {\\n    background: none;\\n  }\\n\\n  .todo-list li .toggle {\\n    height: 40px;\\n  }\\n}\\n\\n@media (max-width: 430px) {\\n  .footer {\\n    height: 50px;\\n  }\\n\\n  .filters {\\n    bottom: 10px;\\n  }\\n}\\n\", \"\"]);\n\n","import classNames from 'classnames';\nimport React from 'react';\n\nimport { useDependency } from 'wedi';\n\nimport { SHOWING, StateService } from './services/state';\nimport { TodoService } from './services/todo';\nimport { pluralize } from './utils/pluralize';\n\nexport default function Footer() {\n  const todoService = useDependency<TodoService>(TodoService)!;\n  const stateService = useDependency<StateService>(StateService)!;\n\n  return (\n    <footer className=\"footer\">\n      <span className=\"todo-count\">\n        <strong>{todoService.activeTodoCount}</strong>{' '}\n        {pluralize(todoService.activeTodoCount, 'item')} left\n      </span>\n      <ul className=\"filters\">\n        <li>\n          <a\n            href=\"#/\"\n            className={classNames({\n              selected: stateService.nowShowing === SHOWING.ALL_TODOS\n            })}\n          >\n            All\n          </a>\n        </li>{' '}\n        <li>\n          <a\n            href=\"#/active\"\n            className={classNames({\n              selected: stateService.nowShowing === SHOWING.ACTIVE_TODOS\n            })}\n          >\n            Active\n          </a>\n        </li>{' '}\n        <li>\n          <a\n            href=\"#/completed\"\n            className={classNames({\n              selected: stateService.nowShowing === SHOWING.COMPLETED_TODOS\n            })}\n          >\n            Completed\n          </a>\n        </li>\n      </ul>\n      {todoService.completedCount > 0 ? (\n        <button\n          className=\"clear-completed\"\n          onClick={() => todoService.clearCompleted()}\n        >\n          Clear completed\n        </button>\n      ) : null}\n    </footer>\n  );\n}\n","export function pluralize(count: number, word: string): string {\n  return count === 1 ? word : word + 's';\n}\n","import classNames from 'classnames';\nimport React, { FormEvent, KeyboardEvent, useRef, useState } from 'react';\n\nimport { useDependency } from 'wedi';\n\nimport { StateService } from './services/state';\nimport { ITodo, TodoService } from './services/todo';\n\nexport interface ITodoItemProps {\n  key: string;\n  todo: ITodo;\n  onEdit?(todo: ITodo): void;\n  onSave?(todo: ITodo): void;\n  onCancel?(): void;\n}\n\nexport default function TodoItem(props: ITodoItemProps) {\n  const { todo } = props;\n\n  const [inputValue, setInputValue] = useState(todo.title);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const todoService = useDependency<TodoService>(TodoService);\n  const stateService = useDependency<StateService>(StateService);\n\n  const handleEdit = function() {\n    setInputValue(todo.title);\n\n    stateService?.setEditing(todo.id);\n\n    setTimeout(() => inputRef?.current!.focus(), 16);\n  };\n\n  const handleSubmit = function(e: FormEvent) {\n    const val = inputValue.trim();\n\n    stateService?.setEditing('');\n\n    if (val) {\n      setInputValue(val);\n      todoService?.save(todo, val);\n    } else {\n      todoService?.destroy(todo);\n    }\n  };\n\n  const handleKeydown = function(e: KeyboardEvent) {\n    if (e.keyCode === 27) {\n      setInputValue(todo.title);\n    } else if (e.keyCode === 13) {\n      handleSubmit(e);\n    }\n  };\n\n  return (\n    <li\n      className={classNames({\n        completed: todo.completed,\n        editing: stateService?.editing === todo.id\n      })}\n    >\n      <div className=\"view\">\n        <input\n          type=\"checkbox\"\n          className=\"toggle\"\n          checked={todo.completed}\n          onChange={() => todoService?.toggle(todo)}\n        />\n        <label onDoubleClick={() => handleEdit()}>{todo.title}</label>\n        <button\n          className=\"destroy\"\n          onClick={() => todoService?.destroy(todo)}\n        ></button>\n      </div>\n      <input\n        ref={inputRef}\n        className=\"edit\"\n        value={inputValue}\n        onBlur={(e) => handleSubmit(e)}\n        onChange={(e) => setInputValue(e.target.value)}\n        onKeyDown={(e) => handleKeydown(e)}\n      />\n    </li>\n  );\n}\n","import { IStoreService } from './store';\n\nexport class LocalStoreService implements IStoreService {\n  store(namespace: string): any;\n  store(namespace: string, data: any): void;\n  store(namespace: string, data?: any): void | any {\n    if (data) {\n      return localStorage.setItem(namespace, JSON.stringify(data));\n    } else {\n      const store = localStorage.getItem(namespace);\n      return (store && JSON.parse(store)) || [];\n    }\n  }\n}\n"],"sourceRoot":""}